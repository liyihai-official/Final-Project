% mycommands.sty
\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{my-Pre-command}[2024/09/14 Custom Commands Package]

% 定义自定义命令
\def\dis{\mathop{}\!\displaystyle}
\def\dif{\mathop{}\!\mathrm{d}}
\def\Tr{\mathop{}\!\mathrm{Trace}}
\def\Hess{\mathop{}\!\mathrm{Hess}}
\def\Var{\mathop{}\!\mathrm{Var \:}}

\def\sh{\mathop{}\!\mathrm{sh \:}}
\def\ch{\mathop{}\!\mathrm{ch \:}}
\def\thx{\mathop{}\!\mathrm{th \:}}
\def\arsh{\mathop{}\!\mathrm{arsh \:}}
\def\arch{\mathop{}\!\mathrm{arch \:}}
\def\arth{\mathop{}\!\mathrm{arth \:}}
\def\arccot{\mathop{}\!\mathrm{arccot \:}}

\def\ReLU{\mathop{}\!\mathrm{ReLU}}
\def\sigmoid{\mathop{}\!\mathrm{sigmoid}}

% 定义新的命令和开关
\newcommand{\fullorpartial}[2][]{%
  \ifx\\#1\\%
    #2%
  \else%
    \only<#1>{#2}%
  \fi%
}


\newif\ifstepwise
\stepwisetrue % 启用逐步显示
% \stepwisefalse % 禁用逐步显示

\newcommand<>{\steporfull}[1]{%
  \ifstepwise%
    \alt#2{#1}{}%
  \else%
    #1%
  \fi%
}

% Configure the appearance of the title page.
% \renewcommand{\maketitle}{%
%   \begin{titlepage}
%     \begin{figure}
%     \centering
%       \includegraphics[width=.8\textwidth]{logo.png}
%     \end{figure}
%       \begin{center}
%         {\huge\@title{}}\\
%         \vspace{3cm}
%         {\LARGE In partial fulfillment of \hpcmsc@thesis{}}\\
%         {\LARGE in the \hpcmsc@school{}}\\
%       \end{center}
%       \vfill
%       \begin{tabular}[b]{p{0.33\textwidth}l}
%         Name: & \@author\\%
%         Student ID: & \hpcmsc@studentID\\%
%         Supervision: & 
%         \hpcmsc@firstsupervisor\\%
%           &\hpcmsc@secondsupervisor\\%
%           &\hpcmsc@supervisornote\\%
%         Date of Submission: 
%         & \hpcmsc@submissiondate\\%
%         Project Code: 
%         & \url{\hpcmsc@codelink}
%       \end{tabular}
%   \end{titlepage}
% }


\newcommand{\drawcube}[2]{
  \begin{scope}[shift={#1}, x={(0.8em,-0.1em)}, y={(0em,0.8em)}, z={(0.4em,0.20em)}]
    \def\size{#2}
    
    % 绘制箭头和立方体
    \draw[thick,->] (-2em, 4em) -- (1em, 3.5em) node[pos=0, above] {$source$} node[pos=0.5, above] {} node[pos=1, above] {};
    \draw[thick,->] (5em, 2em) -- (5em, -2em) node[pos=0, above] {} node[pos=0.5, left] {} node[pos=1, below] {$dest$};
    \draw[thick,->] (12em, 7em) -- (3em, 3em) node[pos=0, above] {$source$} node[pos=0.5, above] {} node[pos=1, above] {};
    
    % 绘制立方体各个面
    \fill[blue!20] (0,0,0) -- (0,\size,0) -- (\size, \size,0) -- (\size,0,0) -- cycle;
    \fill[blue!40] (0,\size,0) -- (0,\size,\size) -- (\size, \size, \size) -- (\size, \size,0) -- cycle;
    \fill[blue!60] (\size,0,0) -- (\size,0,\size) -- (\size, \size, \size) -- (\size, \size,0) -- cycle;
    
    \fill[red!30] (1,1,0) -- (1,\size-1,0) -- (\size-1, \size-1,0) -- (\size-1,1,0) -- cycle;
    \fill[red!40] (1,\size,1) -- (1,\size,\size-1) -- (\size-1, \size, \size-1) -- (\size-1, \size,1) -- cycle;
    \fill[red!45] (\size,1,1) -- (\size,1,\size-1) -- (\size, \size-1, \size-1) -- (\size, \size-1,1) -- cycle;
    
    % 绘制箭头
    \draw[thick,->] (8em, 3em) -- (11em, 2.5em) node[pos=0, above] {} node[pos=0.5, above] {} node[pos=1, above] {$dest$};
    \draw[thick,->] (5em, 9em) -- (5em, 7em) node[pos=0, above] {$source$} node[pos=0.5, left] {} node[pos=1, below] {};
    \draw[thick,->] (3em, 3em) -- (-2em, 1em) node[pos=0, above] {} node[pos=0.5, above] {} node[pos=1, above] {$dest$};
    
    % 绘制网格
    \foreach \x in {0,1,...,\size} 
    {
      \draw[black] (\x,0,0) -- (\x,\size,0);
      \draw[black] (0,\x,0) -- (\size,\x,0);

      \draw[black] (\size,\x,0) -- (\size,\x,\size);
      \draw[black] (\size,0,\x) -- (\size, \size,\x);

      \draw[black] (\x,\size,0) -- (\x,\size,\size);
      \draw[black] (0,\size,\x) -- (\size, \size,\x);
    }
  \end{scope}
}